---
title: "Level up mechanism"
author: "Vikraanth Sinha"
date: "2023-09-04"
output: pdf_document
---

```{r}
jsub <- read.csv('junyiSubset.csv')
info_user <- read.csv('/Users/vikraanthsinha/Desktop/Online education/datasets/Junyi20/archive/Info_UserData.csv')
raw_data <- merge(x=jsub, y=info_user, by='uuid')
```


```{r}
library(dplyr)
raw_data <- raw_data[order(raw_data$timestamp_TW),]
user1 <- filter(raw_data, uuid == 'OCA4QnfsV4shkAu2Qstn26k440ia4yLeO8XRVN8vk8k=')
head(user1)
```


filter by uuid and then ucid, sort by problem number

```{r}
x <- filter(user1, ucid == "q19yLKk/sVMh6RTyMr5ukD1q4LIeGdKKIiUsjpZAQL0=")
x <- x[order(x$problem_number),]
x
```



```{r}
x$before_upgrade <- NA
x$before_downgrade <- NA
for(i in 1:nrow(x))
  if(x[i,]$is_upgrade == 'True')
    x[i-1,]$before_upgrade <- 'True'
  if(x[i,]$is_downgrade == 'True')
    x[i-1,]$before_downgrade <- 'True'
x
```


```{r}
before_upgrade <- filter(x, before_upgrade == 'True')
before_downgrade <- filter(x, before_downgrade == 'True')
before_upgrade
before_downgrade
other <- filter(x, (is.na(before_upgrade) & is.na(before_downgrade)))
other
```


```{r}
t.test(before_upgrade$total_sec_taken, other$total_sec_taken)
```


```{r}
t.test(before_upgrade$used_hint_cnt, other$used_hint_cnt)
```

From the t-tests above, it seems like this student takes less time to answer questions and uses fewer hints before they level up for this batch of questions.





